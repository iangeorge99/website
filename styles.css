/* =========================
   SKYS v2 — Modern Nonprofit
   ========================= */

:root{
  --ink:#0b1220;
  --muted:#475569;
  --paper:#f6f7fb;
  --card:#ffffff;
  --line:rgba(15,23,42,.12);

  --primary:#0b3a6e;       /* navy */
  --primary-2:#2563eb;     /* blue accent */
  --accent:#0ea5a4;        /* teal accent (subtle) */

  --shadow: 0 18px 40px rgba(2, 8, 23, .10);
  --shadow-sm: 0 10px 22px rgba(2, 8, 23, .08);

  --radius:18px;
  --radius-sm:14px;

  --max: 1120px;
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; }
body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  background:var(--paper);
  line-height:1.65;
}

img{ max-width:100%; height:auto; display:block; }

a{ color:inherit; text-decoration:none; }
a:hover{ text-decoration:underline; }

.container{ width:min(var(--max), calc(100% - 40px)); margin-inline:auto; }
.section{ padding: 72px 0; }
.section.tight{ padding: 44px 0; }

.kicker{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.12em;
  color:var(--muted);
  font-weight:700;
}

.h1{
  font-size: clamp(32px, 4.2vw, 52px);
  line-height:1.08;
  margin: 12px 0 10px;
}
.h2{
  font-size: clamp(22px, 2.6vw, 34px);
  line-height:1.18;
  margin: 0 0 10px;
}
.p-lead{
  font-size: clamp(16px, 1.4vw, 18px);
  color: var(--muted);
  margin: 0 0 18px;
  max-width: 70ch;
}

.muted{ color: var(--muted); }

.badges{ display:flex; flex-wrap:wrap; gap:10px; margin-top:16px; }
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 8px 12px;
  border:1px solid var(--line);
  border-radius: 999px;
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(6px);
  font-weight:600;
  color: #111827;
  font-size: 14px;
}
.badge-dot{
  width:10px; height:10px; border-radius:99px;
  background: var(--accent);
}

/* Top utility bar */
.topbar{
  background: rgba(11,58,110,.95);
  color: #fff;
  font-size: 13px;
}
.topbar .container{
  display:flex;
  gap:14px;
  align-items:center;
  justify-content:space-between;
  padding: 10px 0;
}
.topbar a{ text-decoration:underline; color:#fff; opacity:.95; }

/* Header */
.header{
  position: sticky;
  top:0;
  z-index: 50;
  background: rgba(246,247,251,.88);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(15,23,42,.08);
}
.header-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  padding: 14px 0;
}
.brand{
  display:flex;
  align-items:center;
  gap:12px;
  min-width: 180px;
}
.brand img{
  height: 44px;
  width:auto;
}
.brand .name{
  font-weight:800;
  letter-spacing:-.02em;
  line-height:1.1;
}
.brand .sub{
  font-size:12px;
  color:var(--muted);
  font-weight:600;
}

.nav{
  display:flex;
  align-items:center;
  gap:8px;
}
.nav a{
  padding: 10px 12px;
  border-radius: 12px;
  font-weight:650;
  color: #0f172a;
}
.nav a:hover{
  text-decoration:none;
  background: rgba(37,99,235,.08);
}

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 12px 16px;
  border-radius: 14px;
  border:1px solid transparent;
  font-weight:750;
  letter-spacing:-.01em;
  text-decoration:none !important;
  box-shadow: none;
}
.btn.primary{
  background: var(--primary);
  color:#fff;
}
.btn.primary:hover{ filter: brightness(1.06); }
.btn.secondary{
  background: transparent;
  border-color: var(--line);
  color: var(--ink);
}
.btn.secondary:hover{ background: rgba(255,255,255,.8); }
.btn.ghost{
  background: rgba(37,99,235,.08);
  color: #0b3a6e;
}
.btn.ghost:hover{ background: rgba(37,99,235,.12); }

.nav-toggle{
  display:none;
  padding:10px 12px;
  border-radius: 12px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.75);
  font-weight:750;
}

/* Hero */
.hero{
  position: relative;
  padding: 78px 0 54px;
  background:
    radial-gradient(1200px 500px at 10% 20%, rgba(14,165,164,.20), transparent 60%),
    radial-gradient(1000px 500px at 90% 15%, rgba(37,99,235,.18), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.6), rgba(246,247,251,1));
  border-bottom: 1px solid rgba(15,23,42,.08);
}
.hero-grid{
  display:grid;
  grid-template-columns: 1.15fr .85fr;
  gap: 26px;
  align-items: start;
}

/* Hero card improvements (panel stacking + tighter typography) */
.hero-card{
  background: rgba(255,255,255,.75);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  padding: 18px;

  display:flex;              /* NEW */
  flex-direction:column;     /* NEW */
  gap:12px;                  /* NEW */
}

/* Default h3 inside hero card */
.hero-card h3{
  margin: 0 0 8px;
  font-size: 16px;
  letter-spacing:-.01em;
}

/* Panel titles inside hero card look like structured labels */
.hero-card .panel h3{
  margin:0 0 6px;
  font-size:14px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color: var(--muted);
}

/* Tighten content spacing in hero card */
.hero-card p{ margin:0 0 10px; color: var(--muted); }
.hero-card .panel{ padding:16px; }         /* NEW */
.hero-card ul{ margin: 8px 0 0; padding-left: 18px; }
.hero-card .btn{
  padding: 10px 12px;        /* NEW */
  border-radius: 12px;       /* NEW */
}

/* Existing stack helper (still supported) */
.hero-card .stack{ display:flex; flex-direction:column; gap:10px; }

.split{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
}

.cards{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 18px;
}
.card{
  background: var(--card);
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  padding: 18px;
}
.card h3{ margin: 0 0 8px; font-size: 18px; }
.card p{ margin:0; color: var(--muted); }

.icon{
  width: 40px; height: 40px;
  border-radius: 14px;
  display:grid; place-items:center;
  background: rgba(37,99,235,.10);
  border:1px solid rgba(37,99,235,.18);
  margin-bottom: 12px;
  font-weight: 900;
  color: var(--primary);
}

/* Steps */
.steps{
  display:grid;
  grid-template-columns: repeat(3,1fr);
  gap: 18px;
}
.step{
  background: rgba(255,255,255,.85);
  border:1px solid var(--line);
  border-radius: var(--radius);
  padding: 18px;
}
.step .num{
  width: 32px; height:32px; border-radius: 999px;
  background: rgba(14,165,164,.14);
  border:1px solid rgba(14,165,164,.22);
  display:grid; place-items:center;
  font-weight: 850;
  margin-bottom: 10px;
}

/* Callout band */
.band{
  background: #0b3a6e;
  color:#fff;
  border-top:1px solid rgba(255,255,255,.10);
  border-bottom:1px solid rgba(255,255,255,.10);
}
.band .container{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 18px;
}
.band p{ margin:0; color: rgba(255,255,255,.88); max-width: 75ch; }

/* Two-column content */
.two{
  display:grid;
  grid-template-columns: 1fr .9fr;
  gap: 24px;
  align-items:start;
}
.panel{
  background: rgba(255,255,255,.85);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow-sm);
}
.panel ul{ margin: 10px 0 0; padding-left: 18px; color: var(--muted); }
.panel li{ margin: 6px 0; }

.footer{
  padding: 44px 0;
  border-top:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.6);
}
.footer-grid{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr;
  gap: 18px;
}
.footer small{ color: var(--muted); }
.footer a{ text-decoration:underline; }

.hr{ height:1px; background: rgba(15,23,42,.10); border:0; margin: 18px 0; }

.pagehead{
  padding: 52px 0 30px;
  background:
    radial-gradient(1000px 400px at 20% 10%, rgba(37,99,235,.16), transparent 58%),
    linear-gradient(180deg, rgba(255,255,255,.6), rgba(246,247,251,1));
  border-bottom:1px solid rgba(15,23,42,.08);
}
.breadcrumbs{ color: var(--muted); font-weight:650; font-size: 13px; }

.anchor-grid{
  display:grid;
  grid-template-columns: 1fr .85fr;
  gap: 18px;
  align-items:start;
}
.toc{
  position: sticky;
  top: 86px;
}
.toc a{
  display:block;
  padding: 10px 12px;
  border-radius: 12px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.8);
  margin-bottom: 10px;
  font-weight: 700;
}
.toc a:hover{ text-decoration:none; background: rgba(37,99,235,.08); }

/* Responsive */
@media (max-width: 980px){
  .hero-grid{ grid-template-columns: 1fr; }
  .cards{ grid-template-columns: 1fr; }
  .steps{ grid-template-columns: 1fr; }
  .two{ grid-template-columns: 1fr; }
  .footer-grid{ grid-template-columns: 1fr; }
  .anchor-grid{ grid-template-columns: 1fr; }
  .toc{ position: static; }

  /* Hero card spacing improvements on mobile */
  .hero-card{ padding: 16px; }
  .hero-card .panel{ padding: 14px; }
}

@media (max-width: 820px){
  .nav{ display:none; }
  .nav-toggle{ display:inline-flex; }
  .nav.open{
    display:flex;
    position:absolute;
    left: 20px;
    right: 20px;
    top: 64px;
    flex-direction:column;
    align-items:stretch;
    padding: 12px;
    background: rgba(255,255,255,.92);
    border: 1px solid var(--line);
    border-radius: 16px;
    box-shadow: var(--shadow);
  }
  .nav.open a{ padding: 12px 12px; }
  .band .container{ flex-direction:column; align-items:flex-start; padding: 18px 0; }
}

.skip-link{
  position:absolute;
  left:-9999px;
  top:auto;
  width:1px;
  height:1px;
  overflow:hidden;
}
.skip-link:focus{
  left: 18px;
  top: 18px;
  width:auto;
  height:auto;
  padding: 10px 12px;
  border-radius: 12px;
  background: #fff;
  border:1px solid var(--line);
  z-index: 100;
}
/* =========================
   Mobile panel fixes
   ========================= */

@media (max-width: 640px){

  /* Force all multi-column grids into 1 column */
  .split,
  .two,
  .cards,
  .steps,
  .anchor-grid,
  .hero-grid {
    grid-template-columns: 1fr !important;
  }

  /* Improve panel spacing and readability */
  .panel,
  .card,
  .step {
    padding: 16px;
  }

  .panel ul,
  .card ul {
    padding-left: 18px;
  }

  /* Prevent narrow squeezed cards */
  .card, .panel {
    width: 100%;
  }

  /* Headings scale better on phones */
  .h1 { font-size: 30px; }
  .h2 { font-size: 22px; }

  /* Reduce tall empty feeling */
  .section { padding: 48px 0; }
}
/* =========================
   HARD mobile layout fixes
   (prevents side-by-side panels on phones)
   ========================= */
@media (max-width: 720px){

  /* Any 2-column split MUST stack */
  .split{
    grid-template-columns: 1fr !important;
  }

  /* Any container using your generic 2-column pattern MUST stack */
  .two{
    grid-template-columns: 1fr !important;
  }

  /* Ensure cards/steps stack too */
  .cards,
  .steps,
  .anchor-grid{
    grid-template-columns: 1fr !important;
  }

  /* Remove the “squeezed card” look */
  .panel,
  .card,
  .step{
    padding: 16px;
  }

  /* Prevent overflow from long content */
  .panel,
  .card{
    min-width: 0;
  }

  /* Make buttons not overflow */
  .btn{
    max-width: 100%;
    white-space: normal;
  }
}
